# å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸš€ æ¨èæ–¹æ¡ˆ:GitHub Pages + Actions

è¿™æ˜¯æœ€ç®€å•ä¸”å®Œå…¨å…è´¹çš„æ–¹æ¡ˆ,é€‚åˆæ‚¨çš„é¡¹ç›®ã€‚

### ç¬¬ä¸€æ­¥:å‡†å¤‡GitHubä»“åº“

```bash
# 1. åˆå§‹åŒ–Git(å¦‚æœè¿˜æ²¡æœ‰)
git init

# 2. æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# 3. æäº¤
git commit -m "æ·»åŠ éƒ¨ç½²é…ç½®"

# 4. åœ¨GitHubä¸Šåˆ›å»ºä»“åº“å,è¿æ¥è¿œç¨‹ä»“åº“
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/fupan.git

# 5. æ¨é€ä»£ç 
git push -u origin main
```

### ç¬¬äºŒæ­¥:å¯ç”¨GitHub Actions

1. æ¨é€ä»£ç å,GitHub Actionsä¼šè‡ªåŠ¨è¿è¡Œ
2. åœ¨ä»“åº“çš„ **Actions** æ ‡ç­¾é¡µå¯ä»¥æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
3. æ¯ä¸ªå·¥ä½œæ—¥ä¸‹åˆ4ç‚¹ä¼šè‡ªåŠ¨ç”ŸæˆæŠ¥å‘Š

### ç¬¬ä¸‰æ­¥:å¯ç”¨GitHub Pages

1. è¿›å…¥ä»“åº“çš„ **Settings** â†’ **Pages**
2. Source é€‰æ‹© `gh-pages` åˆ†æ”¯
3. ç‚¹å‡» **Save**
4. å‡ åˆ†é’Ÿå,æ‚¨çš„æŠ¥å‘Šå°±å¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€è®¿é—®:
   ```
   https://ä½ çš„ç”¨æˆ·å.github.io/fupan/
   ```

### ç¬¬å››æ­¥:æ‰‹åŠ¨è§¦å‘(å¯é€‰)

å¦‚æœæƒ³ç«‹å³ç”ŸæˆæŠ¥å‘Šè€Œä¸ç­‰å¾…å®šæ—¶ä»»åŠ¡:

1. è¿›å…¥ä»“åº“çš„ **Actions** æ ‡ç­¾é¡µ
2. é€‰æ‹© "ç”Ÿæˆæ¯æ—¥åˆ†ææŠ¥å‘Š" å·¥ä½œæµ
3. ç‚¹å‡» **Run workflow**
4. é€‰æ‹©åˆ†æ”¯å¹¶è¿è¡Œ

---

## ğŸ“‹ å…¶ä»–éƒ¨ç½²æ–¹æ¡ˆ

### Verceléƒ¨ç½²(é€‚åˆéœ€è¦Webç•Œé¢)

```bash
# 1. å®‰è£…Vercel CLI
npm install -g vercel

# 2. ç™»å½•
vercel login

# 3. éƒ¨ç½²
vercel --prod
```

è®¿é—®åœ°å€: Vercelä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªåŸŸå

### Dockeréƒ¨ç½²(é€‚åˆæœ¬åœ°æˆ–VPS)

```bash
# 1. æ„å»ºé•œåƒ
docker build -t fupan .

# 2. è¿è¡Œå®¹å™¨
docker run -d --name fupan-daily \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/reports:/app/reports \
  fupan

# 3. æŸ¥çœ‹æ—¥å¿—
docker logs fupan-daily
```

---

## âš™ï¸ ç¯å¢ƒå˜é‡é…ç½®

å¦‚æœéœ€è¦é…ç½®æ•æ„Ÿä¿¡æ¯(å¦‚APIå¯†é’¥):

### GitHub Secretsè®¾ç½®

1. è¿›å…¥ä»“åº“çš„ **Settings** â†’ **Secrets and variables** â†’ **Actions**
2. ç‚¹å‡» **New repository secret**
3. æ·»åŠ éœ€è¦çš„å¯†é’¥

### åœ¨å·¥ä½œæµä¸­ä½¿ç”¨

```yaml
- name: ç”ŸæˆæŠ¥å‘Š
  env:
    API_KEY: ${{ secrets.API_KEY }}
  run: |
    uv run python fupan.py --date $(date +%Y%m%d)
```

---

## ğŸ“Š æŸ¥çœ‹æŠ¥å‘Š

### æ–¹å¼ä¸€:GitHub Pagesç½‘ç«™
è®¿é—®: `https://ä½ çš„ç”¨æˆ·å.github.io/fupan/`

### æ–¹å¼äºŒ:ç›´æ¥æŸ¥çœ‹ä»“åº“
åœ¨ `reports/` ç›®å½•ä¸‹æŸ¥çœ‹ç”Ÿæˆçš„Markdownæ–‡ä»¶

### æ–¹å¼ä¸‰:æœ¬åœ°æŸ¥çœ‹
```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# æŸ¥çœ‹reportsç›®å½•
ls reports/
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: Actionsè¿è¡Œå¤±è´¥æ€ä¹ˆåŠ?
A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹:
1. ç¡®ä¿ `pyproject.toml` å’Œ `uv.lock` å·²æäº¤
2. æŸ¥çœ‹Actionsæ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯
3. å¯èƒ½éœ€è¦è°ƒæ•´APIè°ƒç”¨é¢‘ç‡æˆ–æ·»åŠ é‡è¯•é€»è¾‘

### Q: å¦‚ä½•ä¿®æ”¹å®šæ—¶ä»»åŠ¡æ—¶é—´?
A: ç¼–è¾‘ `.github/workflows/daily-report.yml` ä¸­çš„ cron è¡¨è¾¾å¼:
```yaml
schedule:
  - cron: '0 8 * * 1-5'  # UTCæ—¶é—´,åŒ—äº¬æ—¶é—´éœ€è¦-8å°æ—¶
```

### Q: å¦‚ä½•é¿å…æäº¤æ•æ„Ÿæ•°æ®?
A: ç¡®ä¿ `.gitignore` åŒ…å«:
```
æŒä»“è‚¡ç¥¨.csv
*.env
.env.*
```

### Q: å…è´¹é¢åº¦å¤Ÿç”¨å—?
A: GitHub Actionsæ¯æœˆæä¾›2000åˆ†é’Ÿå…è´¹é¢åº¦,å¯¹äºæ¯æ—¥ä¸€æ¬¡çš„ä»»åŠ¡å®Œå…¨å¤Ÿç”¨ã€‚

---

## ğŸ“ ä¸‹ä¸€æ­¥å»ºè®®

1. âœ… å°†ä»£ç æ¨é€åˆ°GitHub
2. âœ… å¯ç”¨GitHub Actionså’ŒPages
3. âœ… æµ‹è¯•æ‰‹åŠ¨è§¦å‘å·¥ä½œæµ
4. âœ… ç­‰å¾…ç¬¬ä¸€æ¬¡è‡ªåŠ¨è¿è¡Œ
5. âœ… è®¿é—®GitHub PagesæŸ¥çœ‹æŠ¥å‘Š

---

## ğŸ’¡ è¿›é˜¶ä¼˜åŒ–

### æ·»åŠ é€šçŸ¥åŠŸèƒ½
å¯ä»¥åœ¨å·¥ä½œæµä¸­æ·»åŠ é‚®ä»¶æˆ–Webhooké€šçŸ¥:

```yaml
- name: å‘é€é€šçŸ¥
  if: failure()
  run: |
    curl -X POST ${{ secrets.WEBHOOK_URL }} \
      -H 'Content-Type: application/json' \
      -d '{"text":"æŠ¥å‘Šç”Ÿæˆå¤±è´¥"}'
```

### æ•°æ®å¤‡ä»½
å»ºè®®å®šæœŸå¤‡ä»½ `data/` ç›®å½•:

```yaml
- name: å¤‡ä»½æ•°æ®
  run: |
    tar -czf backup-$(date +%Y%m%d).tar.gz data/
    # ä¸Šä¼ åˆ°äº‘å­˜å‚¨...
```

---

éœ€è¦å¸®åŠ©?è¯·æŸ¥çœ‹ `å…è´¹éƒ¨ç½²æ–¹æ¡ˆ.md` è·å–æ›´è¯¦ç»†çš„è¯´æ˜!
